{% extends "FrontendWebBundle::layout.html.twig" %}

{% block content %}
<div class="content">
    <form action="{{ path('FrontendWebBundle_client_subscribe') }}" method="post" {{ form_enctype(form) }}>
        <fieldset class="personal-infos">
            <legend>Informations personnelles</legend>
            {{ form_widget(form) }}
        </fieldset>

        <fieldset class="passagers-infos">
            <legend>Passagers</legend>
            {% if search.adults != 0 %}
                <fieldset>
                    <legend>{{ 'Adults'|trans }}</legend>
                    <table>
                        <tr>
                            <td>{{ 'Titre'|trans }}</td>
                            <td>{{ 'Lastname'|trans }}</td>
                            <td>{{ 'Firstname'|trans }}</td>
                            <td>{{ 'Birthday'|trans }}</td>
                            <td>{{ 'Nationalty'|trans }}</td>
                        </tr>
                        {% for i in 1..(search.adults)  %}
                        <tr>
                            <td>
                                <select name="adults[{{ i }}][titre]" required="required">
                                    <option value=""></option>
                                    <option value="Mr.">Mr.</option>
                                    <option value="Ms.">Ms.</option>
                                </select>
                            </td>
                            <td><input type="text" name="adults[{{ i }}][nom]" required="required" /></td>
                            <td><input type="text" name="adults[{{ i }}][prenom]" required="required" /></td>
                            <td><input type="text" name="adults[{{ i }}][dateNaissance]" required="required" class="datepicker" readonly="readonly" /></td>
                            <td><input type="text" name="adults[{{ i }}][nationalite]" required="required" /></td>
                        </tr>
                        {% endfor %}
                    </table>              
                </fieldset>
            {% endif %}
            {% if search.children != 0 %}
                <fieldset>
                    <legend>{{ 'Children'|trans }}</legend>
                    <table>
                        <tr>
                            <td>{{ 'Titre'|trans }}</td>
                            <td>{{ 'Lastname'|trans }}</td>
                            <td>{{ 'Firstname'|trans }}</td>
                            <td>{{ 'Birthday'|trans }}</td>
                            <td>{{ 'Nationalty'|trans }}</td>
                        </tr>
                        {% for i in 1..(search.children)  %}
                        <tr>
                            <td>
                                <select name="children[{{ i }}][titre]" required="required">
                                    <option value=""></option>
                                    <option value="Mr.">Mr.</option>
                                    <option value="Ms.">Ms.</option>
                                </select>                            
                            </td>
                            <td><input type="text" name="children[{{ i }}][nom]" required="required" /></td>
                            <td><input type="text" name="children[{{ i }}][prenom]" required="required" /></td>
                            <td><input type="text" name="children[{{ i }}][dateNaissance]" required="required" class="datepicker" readonly="readonly" /></td>
                            <td><input type="text" name="children[{{ i }}][nationalite]" required="required" /></td>
                        </tr>
                        {% endfor %}
                    </table>
                </fieldset>
            {% endif %}
            {% if search.babies != 0 %}
                <fieldset>
                    <legend>{{ 'Babies'|trans }}</legend>
                    <table>
                        <tr>
                            <td>{{ 'Titre'|trans }}</td>
                            <td>{{ 'Lastname'|trans }}</td>
                            <td>{{ 'Firstname'|trans }}</td>
                            <td>{{ 'Birthday'|trans }}</td>
                            <td>{{ 'Nationalty'|trans }}</td>
                        </tr>
                        {% for i in 1..(search.babies)  %}
                        <tr>
                            <td>
                                <select name="babies[{{ i }}][titre]" required="required">
                                    <option value=""></option>
                                    <option value="Mr.">Mr.</option>
                                    <option value="Ms.">Ms.</option>
                                </select>                            
                            </td>
                            <td><input type="text" name="babies[{{ i }}][nom]" required="required" /></td>
                            <td><input type="text" name="babies[{{ i }}][prenom]" required="required" /></td>
                            <td><input type="text" name="babies[{{ i }}][dateNaissance]" required="required" class="datepicker" readonly="readonly" /></td>
                            <td><input type="text" name="babies[{{ i }}][nationalite]" required="required" /></td>
                        </tr>
                        {% endfor %}
                    </table>
                </fieldset>    
            {% endif %}
        </fieldset>
        <div style="clear: both; text-align: right;">
            <input type="submit" value="{{ 'Save your infos'|trans }}" class="button" />
        </div>
    </form>
</div>
{% endblock %}

{% block stylesheets %}
    <link href="{{ asset("css/blitzer/jquery-ui-1.8.16.custom.css") }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block javascripts %}
    <script src="{{ asset("js/jquery-1.6.2.min.js") }}"></script>
    <script src="{{ asset("js/jquery-ui-1.8.16.custom.min.js") }}"></script>
    <script>
	$(function() {
		$(".datepicker").datepicker({dateFormat:'dd/mm/yy'});
	});
    </script>    
{% endblock %}